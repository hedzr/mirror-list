
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="壮丽的镜像们">
      
      
        <meta name="author" content="hedzr">
      
      
        <link rel="canonical" href="https://hedzr.github.io/mirror-list/">
      
      
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.40">
    
    
      
        <title>各种各样的镜像加速</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.8c3ca2c6.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-301DLP27SS"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-301DLP27SS",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-301DLP27SS",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>if("undefined"!=typeof __md_analytics){var consent=__md_get("__consent");consent&&consent.analytics&&__md_analytics()}</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="." title="各种各样的镜像加速" class="md-header__button md-logo" aria-label="各种各样的镜像加速" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            各种各样的镜像加速
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Home
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/hedzr/mirror-list" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="各种各样的镜像加速" class="md-nav__button md-logo" aria-label="各种各样的镜像加速" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    各种各样的镜像加速
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/hedzr/mirror-list" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Home
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      当然，欢迎完善它
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      如何更好的浏览/阅读这篇文章
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      License
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tools" class="md-nav__link">
    <span class="md-ellipsis">
      Tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ports" class="md-nav__link">
    <span class="md-ellipsis">
      ports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-set" class="md-nav__link">
    <span class="md-ellipsis">
      proxy-set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_darwin" class="md-nav__link">
    <span class="md-ellipsis">
      is_darwin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-clone" class="md-nav__link">
    <span class="md-ellipsis">
      git-clone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dbg-tip-err" class="md-nav__link">
    <span class="md-ellipsis">
      dbg, tip &amp; err
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#china-mainland-mirrors" class="md-nav__link">
    <span class="md-ellipsis">
      China Mainland Mirrors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="China Mainland Mirrors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GitHub">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hosts" class="md-nav__link">
    <span class="md-ellipsis">
      修改 hosts 文件 (基本失效)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Git SSH协议代理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-https" class="md-nav__link">
    <span class="md-ellipsis">
      Git HTTPS 协议代理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      生活充满美好
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-clone_1" class="md-nav__link">
    <span class="md-ellipsis">
      Git-clone 脚本
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github_1" class="md-nav__link">
    <span class="md-ellipsis">
      使用 GitHub 镜像网站
    </span>
  </a>
  
    <nav class="md-nav" aria-label="使用 GitHub 镜像网站">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hubnuaacf" class="md-nav__link">
    <span class="md-ellipsis">
      hub.nuaa.cf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gitclonecom" class="md-nav__link">
    <span class="md-ellipsis">
      gitclone.com
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fastgitorg" class="md-nav__link">
    <span class="md-ellipsis">
      fastgit.org
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more" class="md-nav__link">
    <span class="md-ellipsis">
      More
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github_2" class="md-nav__link">
    <span class="md-ellipsis">
      此外，GitHub 可以直达
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-ce" class="md-nav__link">
    <span class="md-ellipsis">
      Docker CE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Docker CE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      附加说明（过时）：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2024" class="md-nav__link">
    <span class="md-ellipsis">
      2024 年下半年起附加说明
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alpine-apk" class="md-nav__link">
    <span class="md-ellipsis">
      Alpine Apk
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#android-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      Android SDK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arch-linux-pacman" class="md-nav__link">
    <span class="md-ellipsis">
      Arch Linux Pacman
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
    <nav class="md-nav" aria-label="curl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#envvar" class="md-nav__link">
    <span class="md-ellipsis">
      EnvVar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EnvVar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#special" class="md-nav__link">
    <span class="md-ellipsis">
      Special
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      快速别名
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      更好的
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flutter-dart-pub" class="md-nav__link">
    <span class="md-ellipsis">
      Flutter &amp; Dart Pub
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flutter & Dart Pub">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flutter" class="md-nav__link">
    <span class="md-ellipsis">
      Flutter 镜像安装帮助
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#go-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Go Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Go Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      参考
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gradle" class="md-nav__link">
    <span class="md-ellipsis">
      Gradle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gem-cocoapods" class="md-nav__link">
    <span class="md-ellipsis">
      Gem 和 CocoaPods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gem 和 CocoaPods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ruby" class="md-nav__link">
    <span class="md-ellipsis">
      替换 Ruby 源
    </span>
  </a>
  
    <nav class="md-nav" aria-label="替换 Ruby 源">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ruby_1" class="md-nav__link">
    <span class="md-ellipsis">
      移除现有的Ruby镜像
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      添加国内最新镜像
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      查看当前镜像
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bundler" class="md-nav__link">
    <span class="md-ellipsis">
      bundler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cocoapods" class="md-nav__link">
    <span class="md-ellipsis">
      加速 Cocoapods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="加速 Cocoapods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gitee" class="md-nav__link">
    <span class="md-ellipsis">
      gitee镜像
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      清华镜像
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xcode-podfile" class="md-nav__link">
    <span class="md-ellipsis">
      你的 xcode 工程中如果有Podfile的话，请修改加入下面的行：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#homebrew" class="md-nav__link">
    <span class="md-ellipsis">
      Homebrew
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Homebrew">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      复原
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pub" class="md-nav__link">
    <span class="md-ellipsis">
      Pub 镜像安装帮助
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mageia" class="md-nav__link">
    <span class="md-ellipsis">
      Mageia
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mageia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-software-sources" class="md-nav__link">
    <span class="md-ellipsis">
      List software sources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      添加源
    </span>
  </a>
  
    <nav class="md-nav" aria-label="添加源">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#urpmi" class="md-nav__link">
    <span class="md-ellipsis">
      urpmi 配置方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dnf" class="md-nav__link">
    <span class="md-ellipsis">
      dnf 配置方法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maven" class="md-nav__link">
    <span class="md-ellipsis">
      Maven
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Maven">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aliyun" class="md-nav__link">
    <span class="md-ellipsis">
      采用aliyun镜像
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-npmyarn" class="md-nav__link">
    <span class="md-ellipsis">
      Node 和 npm/Yarn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opensuse" class="md-nav__link">
    <span class="md-ellipsis">
      openSUSE 软件源
    </span>
  </a>
  
    <nav class="md-nav" aria-label="openSUSE 软件源">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opensuse-leap-152" class="md-nav__link">
    <span class="md-ellipsis">
      openSUSE Leap 15.2 或更新版本使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opensuse-tumbleweed" class="md-nav__link">
    <span class="md-ellipsis">
      openSUSE Tumbleweed 使用方法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-pip-composer" class="md-nav__link">
    <span class="md-ellipsis">
      Python pip 和 composer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python pip 和 composer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pip" class="md-nav__link">
    <span class="md-ellipsis">
      Pip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composer" class="md-nav__link">
    <span class="md-ellipsis">
      Composer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequel" class="md-nav__link">
    <span class="md-ellipsis">
      Sequel
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#r-cran" class="md-nav__link">
    <span class="md-ellipsis">
      R CRAN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rust-cargo-rustup" class="md-nav__link">
    <span class="md-ellipsis">
      Rust Cargo 和 Rustup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rust Cargo 和 Rustup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixup" class="md-nav__link">
    <span class="md-ellipsis">
      Fixup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ubuntu-apt-source" class="md-nav__link">
    <span class="md-ellipsis">
      Ubuntu Apt Source
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ubuntu Apt Source">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      其他方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      推荐的方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sudo" class="md-nav__link">
    <span class="md-ellipsis">
      免密码 sudo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="免密码 sudo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apt-select" class="md-nav__link">
    <span class="md-ellipsis">
      使用 apt-select
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mirrors-cdn" class="md-nav__link">
    <span class="md-ellipsis">
      使用mirrors CDN
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ubuntu-ppa-source" class="md-nav__link">
    <span class="md-ellipsis">
      Ubuntu PPA Source
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ubuntu PPA Source">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#launchpadproxyustclugorg" class="md-nav__link">
    <span class="md-ellipsis">
      launchpad.proxy.ustclug.org 废了
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vagrant" class="md-nav__link">
    <span class="md-ellipsis">
      Vagrant
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      附录
    </span>
  </a>
  
    <nav class="md-nav" aria-label="附录">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      附录一
    </span>
  </a>
  
    <nav class="md-nav" aria-label="附录一">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xtomhelp" class="md-nav__link">
    <span class="md-ellipsis">
      关于 xtom.help
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      附录二
    </span>
  </a>
  
    <nav class="md-nav" aria-label="附录二">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mirrorz" class="md-nav__link">
    <span class="md-ellipsis">
      关于 mirrorz
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      当然，欢迎完善它
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      如何更好的浏览/阅读这篇文章
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      License
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tools" class="md-nav__link">
    <span class="md-ellipsis">
      Tools
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ports" class="md-nav__link">
    <span class="md-ellipsis">
      ports
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proxy-set" class="md-nav__link">
    <span class="md-ellipsis">
      proxy-set
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is_darwin" class="md-nav__link">
    <span class="md-ellipsis">
      is_darwin
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-clone" class="md-nav__link">
    <span class="md-ellipsis">
      git-clone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dbg-tip-err" class="md-nav__link">
    <span class="md-ellipsis">
      dbg, tip &amp; err
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#china-mainland-mirrors" class="md-nav__link">
    <span class="md-ellipsis">
      China Mainland Mirrors
    </span>
  </a>
  
    <nav class="md-nav" aria-label="China Mainland Mirrors">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#github" class="md-nav__link">
    <span class="md-ellipsis">
      GitHub
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GitHub">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hosts" class="md-nav__link">
    <span class="md-ellipsis">
      修改 hosts 文件 (基本失效)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-ssh" class="md-nav__link">
    <span class="md-ellipsis">
      Git SSH协议代理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-https" class="md-nav__link">
    <span class="md-ellipsis">
      Git HTTPS 协议代理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      生活充满美好
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#git-clone_1" class="md-nav__link">
    <span class="md-ellipsis">
      Git-clone 脚本
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github_1" class="md-nav__link">
    <span class="md-ellipsis">
      使用 GitHub 镜像网站
    </span>
  </a>
  
    <nav class="md-nav" aria-label="使用 GitHub 镜像网站">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hubnuaacf" class="md-nav__link">
    <span class="md-ellipsis">
      hub.nuaa.cf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gitclonecom" class="md-nav__link">
    <span class="md-ellipsis">
      gitclone.com
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fastgitorg" class="md-nav__link">
    <span class="md-ellipsis">
      fastgit.org
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#more" class="md-nav__link">
    <span class="md-ellipsis">
      More
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github_2" class="md-nav__link">
    <span class="md-ellipsis">
      此外，GitHub 可以直达
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-ce" class="md-nav__link">
    <span class="md-ellipsis">
      Docker CE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Docker CE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      附加说明（过时）：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2024" class="md-nav__link">
    <span class="md-ellipsis">
      2024 年下半年起附加说明
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alpine-apk" class="md-nav__link">
    <span class="md-ellipsis">
      Alpine Apk
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#android-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      Android SDK
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arch-linux-pacman" class="md-nav__link">
    <span class="md-ellipsis">
      Arch Linux Pacman
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#curl" class="md-nav__link">
    <span class="md-ellipsis">
      curl
    </span>
  </a>
  
    <nav class="md-nav" aria-label="curl">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#envvar" class="md-nav__link">
    <span class="md-ellipsis">
      EnvVar
    </span>
  </a>
  
    <nav class="md-nav" aria-label="EnvVar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#special" class="md-nav__link">
    <span class="md-ellipsis">
      Special
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      快速别名
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      更好的
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#flutter-dart-pub" class="md-nav__link">
    <span class="md-ellipsis">
      Flutter &amp; Dart Pub
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Flutter & Dart Pub">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flutter" class="md-nav__link">
    <span class="md-ellipsis">
      Flutter 镜像安装帮助
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#go-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Go Modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Go Modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      参考
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gradle" class="md-nav__link">
    <span class="md-ellipsis">
      Gradle
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gem-cocoapods" class="md-nav__link">
    <span class="md-ellipsis">
      Gem 和 CocoaPods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Gem 和 CocoaPods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ruby" class="md-nav__link">
    <span class="md-ellipsis">
      替换 Ruby 源
    </span>
  </a>
  
    <nav class="md-nav" aria-label="替换 Ruby 源">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ruby_1" class="md-nav__link">
    <span class="md-ellipsis">
      移除现有的Ruby镜像
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      添加国内最新镜像
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      查看当前镜像
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bundler" class="md-nav__link">
    <span class="md-ellipsis">
      bundler
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cocoapods" class="md-nav__link">
    <span class="md-ellipsis">
      加速 Cocoapods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="加速 Cocoapods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gitee" class="md-nav__link">
    <span class="md-ellipsis">
      gitee镜像
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      清华镜像
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xcode-podfile" class="md-nav__link">
    <span class="md-ellipsis">
      你的 xcode 工程中如果有Podfile的话，请修改加入下面的行：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#homebrew" class="md-nav__link">
    <span class="md-ellipsis">
      Homebrew
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Homebrew">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      复原
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pub" class="md-nav__link">
    <span class="md-ellipsis">
      Pub 镜像安装帮助
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mageia" class="md-nav__link">
    <span class="md-ellipsis">
      Mageia
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Mageia">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#list-software-sources" class="md-nav__link">
    <span class="md-ellipsis">
      List software sources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      添加源
    </span>
  </a>
  
    <nav class="md-nav" aria-label="添加源">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#urpmi" class="md-nav__link">
    <span class="md-ellipsis">
      urpmi 配置方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dnf" class="md-nav__link">
    <span class="md-ellipsis">
      dnf 配置方法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maven" class="md-nav__link">
    <span class="md-ellipsis">
      Maven
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Maven">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aliyun" class="md-nav__link">
    <span class="md-ellipsis">
      采用aliyun镜像
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#node-npmyarn" class="md-nav__link">
    <span class="md-ellipsis">
      Node 和 npm/Yarn
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opensuse" class="md-nav__link">
    <span class="md-ellipsis">
      openSUSE 软件源
    </span>
  </a>
  
    <nav class="md-nav" aria-label="openSUSE 软件源">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#opensuse-leap-152" class="md-nav__link">
    <span class="md-ellipsis">
      openSUSE Leap 15.2 或更新版本使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opensuse-tumbleweed" class="md-nav__link">
    <span class="md-ellipsis">
      openSUSE Tumbleweed 使用方法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-pip-composer" class="md-nav__link">
    <span class="md-ellipsis">
      Python pip 和 composer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python pip 和 composer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pip" class="md-nav__link">
    <span class="md-ellipsis">
      Pip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composer" class="md-nav__link">
    <span class="md-ellipsis">
      Composer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequel" class="md-nav__link">
    <span class="md-ellipsis">
      Sequel
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#r-cran" class="md-nav__link">
    <span class="md-ellipsis">
      R CRAN
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rust-cargo-rustup" class="md-nav__link">
    <span class="md-ellipsis">
      Rust Cargo 和 Rustup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rust Cargo 和 Rustup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixup" class="md-nav__link">
    <span class="md-ellipsis">
      Fixup
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ubuntu-apt-source" class="md-nav__link">
    <span class="md-ellipsis">
      Ubuntu Apt Source
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ubuntu Apt Source">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      其他方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      推荐的方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sudo" class="md-nav__link">
    <span class="md-ellipsis">
      免密码 sudo
    </span>
  </a>
  
    <nav class="md-nav" aria-label="免密码 sudo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#apt-select" class="md-nav__link">
    <span class="md-ellipsis">
      使用 apt-select
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mirrors-cdn" class="md-nav__link">
    <span class="md-ellipsis">
      使用mirrors CDN
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ubuntu-ppa-source" class="md-nav__link">
    <span class="md-ellipsis">
      Ubuntu PPA Source
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ubuntu PPA Source">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#launchpadproxyustclugorg" class="md-nav__link">
    <span class="md-ellipsis">
      launchpad.proxy.ustclug.org 废了
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vagrant" class="md-nav__link">
    <span class="md-ellipsis">
      Vagrant
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      附录
    </span>
  </a>
  
    <nav class="md-nav" aria-label="附录">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      附录一
    </span>
  </a>
  
    <nav class="md-nav" aria-label="附录一">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xtomhelp" class="md-nav__link">
    <span class="md-ellipsis">
      关于 xtom.help
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      附录二
    </span>
  </a>
  
    <nav class="md-nav" aria-label="附录二">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mirrorz" class="md-nav__link">
    <span class="md-ellipsis">
      关于 mirrorz
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  
<nav class="md-tags" >
  
    
    
    
      <span class="md-tag">mirrors</span>
    
  
</nav>


  
    <a href="https://github.com/hedzr/mirror-list/edit/master/docs/index.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  


<h1 id="_1">各种各样的镜像加速</h1>
<h2 id="overview">Overview</h2>
<p>这里做一个集中，尽管以前都是遇到时立即搜索，但是集中一下之后，看起来也很壮观。</p>
<h3 id="_2">当然，欢迎完善它</h3>
<ul>
<li><a href="https://github.com/hedzr/mirror-list/issues">https://github.com/hedzr/mirror-list/issues</a></li>
</ul>
<h3 id="_3">如何更好的浏览/阅读这篇文章</h3>
<p>由于我们已经重新制作了自动发布页，所以请移步到 <a href="https://github.com/hedzr/mirror-list/blob/master/docs/index.md">这里 (docs/index.md)</a> 在 GitHub 网站上直接阅读正文；或者通过我们的发布页在 CF-GH-Pages 的加持下阅读格式化后的 html 页面：</p>
<ol>
<li><a href="https://hedzr.com/mirror-list/">https://hedzr.com/mirror-list/</a></li>
</ol>
<h2 id="license">License</h2>
<p>本文中给出的源码像其它软件开发代码一样采用 MIT，随便用。</p>
<p>本文的内容，基本上没版权，在公共域。部分内容摘抄自公共服务器，此时请直接查看相应的原始内容，我尽力给出链接指向。有的内容是摘编后的成品，则统一使用内容创作共用 CC4-BY-NC-SA。</p>
<p>本文的排版和组织，如果有所谓，MIT，你还是可以用，随便。</p>
<h2 id="tools">Tools</h2>
<h3 id="ports"><code>ports</code></h3>
<p>ports 是一个查看本地服务端口表的工具。你可以这么使用它：</p>
<pre><code class="language-bash">ports   # 列出全部
ports | grep -vE 'ssh|mysql'    # 列出全部，但不必罗列 ssh 和 mysql
ports 3306 # 看看 mysql 是不是在
</code></pre>
<p>它的源码实现如下，加入到你的 .bashrc 或者 .zshrc 中就好（同时适用于 linux/macOS zsh/bash 环境）：</p>
<pre><code class="language-bash">ports() {
  local SUDO=${SUDO:-sudo}
  [ &quot;$(id -u)&quot; = &quot;0&quot; ] &amp;&amp; SUDO=
  if [[ $# -eq 0 ]]; then
    eval $SUDO lsof -Pni | grep -E &quot;LISTEN|UDP&quot;
  else
    local p='' i
    for i in &quot;$@&quot;; do
      if [[ &quot;$i&quot; -eq &quot;$i&quot; ]]; then
        p=&quot;$p -i :$i&quot;
      else
        p=&quot;$p -i $i&quot;
      fi
    done
    eval $SUDO lsof -Pn $p
  fi
}
</code></pre>
<p>基本上，这是一个很常用的工具，你没有必要使用 netstat 或者 iotop 或者 TUI / GUI 工具来查看打开的端口表。</p>
<h3 id="proxy-set"><code>proxy-set</code></h3>
<p>在 zsh/bash 环境中，你可能需要一个小型工具，其主体内容是这样的：</p>
<pre><code class="language-bash"># PROXY_LINK='http://127.0.0.1:7890'
proxy_set() {
  local onoff=${1:-usage}
  if is_darwin; then
    local pip=$(ipconfig getifaddr en0 || ipconfig getifaddr en1) 
  else
    local pip=$(hostname -I|awk '{print $1}')
  fi
  local link=${PROXY_LINK:-http://$pip:7890}
  proxy_print_status() {
    [ &quot;$http_proxy&quot; != &quot;&quot; ] &amp;&amp; echo &quot;http_proxy=$http_proxy&quot;
    [ &quot;$HTTP_PROXY&quot; != &quot;&quot; ] &amp;&amp; echo &quot;HTTP_PROXY=$HTTP_PROXY&quot;
    [ &quot;$https_proxy&quot; != &quot;&quot; ] &amp;&amp; echo &quot;https_proxy=$https_proxy&quot;
    [ &quot;$HTTPS_PROXY&quot; != &quot;&quot; ] &amp;&amp; echo &quot;HTTPS_PROXY=$HTTPS_PROXY&quot;
    [ &quot;$all_proxy&quot; != &quot;&quot; ] &amp;&amp; echo &quot;all_proxy=$all_proxy&quot;
    [ &quot;$ALL_PROXY&quot; != &quot;&quot; ] &amp;&amp; echo &quot;ALL_PROXY=$ALL_PROXY&quot;
  }
  proxy_set_off() {
    unset all_proxy ALL_PROXY http_proxy https_proxy HTTP_PROXY HTTPS_PROXY
  }
  proxy_set_on() {
    export http_proxy=$link
    export https_proxy=$http_proxy HTTPS_PROXY=$http_proxy HTTP_PROXY=$http_proxy all_proxy=$http_proxy ALL_PROXY=$http_proxy
  }
  proxy_set_invoke(){
    # for better compatibilities under macOS we assumed a child shell for cleanup the envvars.
    # but its can be simplify to these following:
    # proxy_set_on &amp;&amp; eval &quot;$@&quot; &amp;&amp; proxy_set_off
    bash -c &quot;
    set -e
    proxy_set_off() {
      unset all_proxy ALL_PROXY http_proxy https_proxy HTTP_PROXY HTTPS_PROXY
    }
    proxy_set_on() {
      export http_proxy=$link
      export https_proxy=\$http_proxy HTTPS_PROXY=\$http_proxy HTTP_PROXY=\$http_proxy all_proxy=\$http_proxy ALL_PROXY=\$http_proxy
    }
    trap 'proxy_set_off' EXIT ERR
    proxy_set_on
    $*
    &quot;
  }
  case $onoff in
  on|ON|1|yes|ok|enable|enabled|open|allow)
    proxy_set_on
    echo 'HTTP Proxy on (http)'
    ;;
  off|OFF|0|no|bad|disable|disabled|close|disallow|deny)
    proxy_set_off
    echo 'HTTP Proxy off (http)'
    ;;
  status|st)
    proxy_print_status
    ;;
  usage|help|info)
    echo 'Usage: proxy_set on|off|enable|disable|allow|deny|status'
    echo 'Or run proxy_set just like &quot;tsock&quot;: proxy_set curl -iL https://google.com/'
    echo 'Type &quot;proxy_set help&quot; for more information.'
    proxy_print_status
    ;;
  *)
    proxy_set_invoke &quot;$@&quot;
    ;;
  esac
}
alias proxy-set=proxy_set
</code></pre>
<p>将它粘贴到你的 ~/.zshrc 或者 ~/.bashrc 的末尾就可以了。</p>
<p>重新打开终端窗口即可生效。</p>
<p>如果在终端环境中需要启动 HTTP 代理，则</p>
<pre><code class="language-bash">proxy-set on
</code></pre>
<p>反之则</p>
<pre><code class="language-bash">proxy-set off
</code></pre>
<p>这是有备无患的工具。终端中总是有着各种各样的情况，这个工具的作用像 tsock，只不过需要独立运行并启用。</p>
<p>如果你想像使用 tsock 那样使用 proxy-set，现在可以这样：</p>
<pre><code class="language-bash">proxy-set curl -iL https://google.com/
</code></pre>
<p><code>proxy-set help</code> 可以查看 proxy_set 的使用方法。</p>
<p>只想看看状态的话：</p>
<pre><code class="language-bash">proxy-set
</code></pre>
<p>这将会显示出当前的 HTTP_PROXY 值。</p>
<blockquote>
<p>如果使用 Zsh+Powerlevel10K 等环境的话，你可以借助于 <a href="https://github.com/romkatv/powerlevel10k#batteries-included">定制额外的 Modifier（segment）小组件</a> 来帮助解决状态问题。一个可能的定制环境是这样的：</p>
<p><img alt="image-20220914105628812" src="_assets/README/image-20220914105628812.png" /></p>
<p>在提示符的右侧显示了当前的代理状态以及 shell 嵌套层级。</p>
</blockquote>
<h3 id="is_darwin"><code>is_darwin</code></h3>
<p><code>is_darwin</code> 是来自于我的 <a href="https://github.com/hedzr/bash.sh">bash.sh</a> 中的一个小型工具函数。其实现很简短：</p>
<pre><code class="language-bash">is_darwin() { [[ $OSTYPE == darwin* ]]; }
</code></pre>
<p>所以你可以按需采用。</p>
<p>对于希望集成更多类似小工具的朋友，请查看我们的 <a href="https://github.com/hedzr/bash.sh">bash.sh</a> ，它提供了编写完整的 shell 脚本/ devops 工具脚本的最佳起点 <code>bash.sh</code>，以及：</p>
<ul>
<li>一个额外的、可以被直接引入到 <code>.zshrc/.bashrc</code> 的等价物 <code>bash.config</code>：</li>
</ul>
<p><code>bash
  [ -f $HOME/.bash.sh/bash.config ] &amp;&amp; source $HOME/.bash.sh/bash.config</code></p>
<p>上面的句子可以添加到你的 zshrc 中。</p>
<ul>
<li>一个轻型版本：<code>bash-lite.sh</code>。它带有更少的函数集合，算是 <code>bash.sh/bash.config</code> 的轻量级版本。</li>
</ul>
<h3 id="git-clone"><code>git-clone</code></h3>
<p>比较频繁地 clone github repos 的时候，这个工具脚本可能会令你 happy：</p>
<pre><code class="language-bash">is_git_clean() { git diff-index --quiet &quot;$@&quot; HEAD -- 2&gt;/dev/null; }
is_git_dirty() {
    if is_git_clean &quot;$@&quot;; then
        false
    else
        true
    fi
}
git_clone() {
    local Deep=&quot;--depth=1&quot; Help Dryrun Https Dir arg i=1 Verbose=0
    while [[ $# -gt 0 ]]; do
        case $1 in
        -h | --help)
            shift &amp;&amp; Help=1
            cat &lt;&lt;-EOT
                git-clone helps cloneing git repo simply from github/gitlab/bitbucket

                Usage: git-clone [-d|--deep] [-s|--https] [-o dir|--dir dir] repo

                Description:
                  git-clone will pull the repo into 'user.repo/', for example:
                    git-clone hedzr/cmdr
                    GIT_HOST=gitlab.com git-clone hedzr/cmdr
                    git-clone git@github.com:hedzr/cmdr.git
                    git-clone https://github.com/hedzr/cmdr.git
                  will pull hedzr/cmdr into 'hedzr.cmdr/' directory.

                Options and Args:

                  '--deep' enables full fetch, default is shallow pull only
                  '--https' enables https protocal, default is ssh protocol
                  '--dir' specifies the cloned target directory, default is 'user.repo'

                  'repo' can be these forms:
                    hedzr/cmdr
                    https://github.com/hedzr/cmdr
                    https://github.com/hedzr/cmdr.git
                    github.com:hedzr/cmdr.git
                    git@github.com:hedzr/cmdr.git
                    gitlab.com:hedzr/cmdr
                    bitbucket.com/hedzr/cmdr
                    git.sr.ht/hedzr/cmdr
                    gitee.com/hedzr/cmdr
                    coding.net/hedzr/cmdr

                EnvVars:
                  GIT_HOSTS    extras git hosts such as your own private host
                  GIT_HOST     specify git host explicitly if you're using user/repo form.

            EOT
            ;;
        -d | --deep)
            # strength=$OPTARG
            shift &amp;&amp; Deep=&quot;&quot;
            ;;
        -dr | --dry-run | --dryrun)
            shift &amp;&amp; Dryrun=1
            ;;
        -s | --https)
            shift &amp;&amp; Https=1
            ;;
        -o | --dir | --output)
            shift &amp;&amp; Dir=&quot;$1&quot; &amp;&amp; shift
            ;;
        -v | --verbose)
            Verbose=1 &amp;&amp; shift
            ;;
        *)
            case $i in
            1)
                local Repo=&quot;${1:-hedzr/cmdr}&quot;
                shift
                ;;
            esac
            ;;
        esac
    done

    if [[ &quot;$Help&quot; != 1 ]]; then
        local Sep='/' Prefix=&quot;${GIT_PREFIX:-git@}&quot; Host=&quot;${GIT_HOST:-github.com}&quot; h
        [[ &quot;$Https&quot; -eq 1 ]] &amp;&amp; Prefix=&quot;https://&quot;
        [[ &quot;$Repo&quot; =~ https://* ]] &amp;&amp; Repo=&quot;${Repo//https:\/\//}&quot;
        for h in github.com gitlab.com bitbucket.com git.sr.ht gitee.com coding.net $GIT_HOSTS; do
            [[ &quot;$Repo&quot; =~ $h/* ]] &amp;&amp; Host=$h &amp;&amp; Repo=&quot;${Repo//$h\//}&quot;
            [[ &quot;$Repo&quot; =~ $h:* ]] &amp;&amp; Host=$h &amp;&amp; Repo=&quot;${Repo//$h:/}&quot;
        done
        Repo=&quot;${Repo%\#*}&quot;
        Repo=&quot;${Repo%\?*}&quot;
        Repo=&quot;${Repo#git@}&quot;
        Repo=&quot;${Repo%.git}&quot;
        Repo=&quot;${Repo%/blob/*}&quot;
        [[ &quot;$Dir&quot; == &quot;&quot; ]] &amp;&amp; Dir=&quot;${Repo//\//.}&quot;
        [[ &quot;$Prefix&quot; == 'git@' ]] &amp;&amp; Sep=':'
        local Url=&quot;${Prefix}${Host}${Sep}${Repo}.git&quot; Opts=&quot;&quot;
        (($Verbose)) &amp;&amp; Opts=&quot;--verbose&quot;
        if [[ &quot;$Dryrun&quot; -ne 0 ]]; then
            tip &quot;Url: $Url | Deep?: '$Deep' | Opts: '$Opts'&quot;
            tip &quot;Result: git clone $Deep -q $Opts &quot;$Url&quot; &quot;$Dir&quot;&quot;
        else
            dbg &quot;cloning from $Url ...&quot; &amp;&amp; git clone $Deep -q $Opts &quot;$Url&quot; &quot;$Dir&quot; &amp;&amp; {
                (($Verbose)) &amp;&amp; local DEBUG=1
                dbg &quot;git clone $Url DONE.&quot;
                (($Verbose)) &amp;&amp; du -sh &quot;$Dir&quot; || :
            }
        fi
    fi
}
alias git-clone=git_clone
alias git-clone-deep='git_clone -d'
</code></pre>
<p>脚本同时适合 bash 和 zsh，直接复制到 <code>.bashrc</code> 或 <code>.zshrc</code> 即可工作。</p>
<blockquote>
<p>由于格式的原因（tab 字符），直接从页面上粘贴 git-clone 可能导致问题。如此，推荐直接前往 <a href="https://github.com/hedzr/bash.sh/blob/master/bash.sh#L521">这里</a> 在编辑器状态下选择并粘贴 bash shell 脚本代码。</p>
</blockquote>
<p>用法是：</p>
<pre><code class="language-bash">$ git-clone hedzr/mirror-list
$ git-clone github.com/hedzr/mirror-list
$ git-clone https://github.com/hedzr/mirror-list
$ git-clone https://github.com/hedzr/mirror-list?tab=xxxxx
$ git-clone https://github.com/hedzr/mirror-list.git
$ git-clone git@github.com:hedzr/mirror-list
$ git-clone git@github.com:hedzr/mirror-list.git
$ GIT_HOST=gitlab.com git-clone hedzr/cmdr
$ GIT_HOSTS=my-code-hub.com git-clone hedzr/cmdr
# to clone a repo completely:
$ git-clone --deep hedzr/cmdr
$ git-clone -d hedzr/cmdr
# to clone via https protocol rather than default SSH:
$ git-clone -s hedzr/cmdr
# give the target directory:
$ git-clone --dir cmdr hedzr/cmdr
</code></pre>
<p>主打一个容错度高，妈妈说再也不用小心翼翼点 Code 按钮然后点 Copy 按钮了。</p>
<p>注意事项：</p>
<p>你必须已经配置好了本机的 git ssh 协议，因为我们内部自动将一切能识别的 URI 转换为 <code>git@github.com:hedzr/mirror-list.git</code> 样式、然后发出 git clone 指令。</p>
<blockquote>
<p>或者，使用 <code>-s</code>|<code>--https</code> 参数指明需要走 https 协议。</p>
</blockquote>
<p>其次，自动 clone 为 hedzr.mirror-list 这样的子目录，要加以注意。</p>
<blockquote>
<p>或者，使用 <code>-o</code>|<code>--dir</code>|<code>--output dir</code> 参数显式指定目标目录。</p>
</blockquote>
<p>~~如果不满，自己改改也不困难~~。</p>
<p>git-clone 随 <a href="https://github.com/hedzr/bash.sh">hedzr/bash.sh</a> 一起提供。</p>
<blockquote>
<p>由于这个 tool 是当初为了 clone 超大型 repo 而顺便制作的，所以它保留了 <code>--depth=1</code> 来 clone 最少的内容，更多的历史 commits，branches，tags 等等都不会 fetch，所以你的本地工作目录将会只有一个 commit 可见，也就是 master 分支上的最新的 HEAD 提交。</p>
<p>为了全量拉回更多历史，需要进入 repo 的根目录执行：</p>
<p><code>bash
git fetch --unshallow</code></p>
<p>或者，如果你总是想全量 fetch，在使用 git-clone 脚本的时候编辑一下，去掉 <code>--depth=1</code> 这个参数好了。</p>
<p>一切取决于你自己。</p>
</blockquote>
<h3 id="dbg-tip-err">dbg, tip &amp; err</h3>
<pre><code class="language-bash">dbg() { ((DEBUG)) &amp;&amp; printf &quot;&gt;&gt;&gt; \e[0;38;2;133;133;133m$@\e[0m\n&quot; || :; }
tip() { printf &quot;\e[0;38;2;133;133;133m&gt;&gt;&gt; $@\e[0m\n&quot;; }
err() { printf &quot;\e[0;33;1;133;133;133m&gt;&gt;&gt; $@\e[0m\n&quot; 1&gt;&amp;2; }
</code></pre>
<p>使用的方法也简单：</p>
<pre><code class="language-bash">tip &quot;$HOME&quot; &quot;Folder&quot;
tip $HOME Folder
tip &quot;$HOME Folder&quot;
</code></pre>
<p>等等。</p>
<h2 id="china-mainland-mirrors">China Mainland Mirrors</h2>
<h3 id="github">GitHub</h3>
<p>通过 HTTPS 协议 Clone GitHub 仓库的话，可能会遇到速度很慢的情况。</p>
<p>根据经验，在慢的时候中断 Clone 稍待片刻重复命令的话，你可能会得到正常速度，这种偷鸡的策略适合于小小仓库。</p>
<p>对于大型仓库，改走 SSH 协议进行 clone 的话，走到正常速度的几率较大，但此时的速度相较于 HTTPS 而言通常会有所损耗。</p>
<h4 id="hosts">修改 hosts 文件 (基本失效)</h4>
<p>但下面还有一种较为费事的方法，通过修改 hosts 文件来完成提速，无需科学也无需代理加速也无需镜像加速（GitHub是不太可能有镜像的）。具体来说请接下去阅读：</p>
<p>首先在 <a href="https://www.ipaddress.com/">https://www.ipaddress.com/</a> 查询这三个域名的地址：</p>
<ol>
<li>github.com</li>
<li>assets-cdn.github.com</li>
<li>github.global.ssl.fastly.net</li>
</ol>
<p>然后按照查询的结果填写到 /etc/hosts 中，windows用户请查找 %WINDIR%/system32/drivers/etc/hosts 文件。请注意修改 hosts 文件通常需要 sudo 权限 或者管理员权限。修改内容如同下面：</p>
<pre><code class="language-bash">140.82.118.3    github.com
185.199.109.153 assets-cdn.github.com
185.199.111.153 assets-cdn.github.com
185.199.108.153 assets-cdn.github.com
185.199.110.153 assets-cdn.github.com
151.101.113.194 github.global.ssl.fastly.net
</code></pre>
<p>如果你有国外的服务器，也可以通过dig指令来查找：</p>
<pre><code class="language-bash">$ dig github.com +short
140.82.118.3
</code></pre>
<p>修改 hosts 文件能够起效的原因有赖于IP未被封禁。但实际上这个并不一定如此，封禁是多种手段同时采用的，此外、不同省份地区的不同运营商的具体动作也会有点区别。</p>
<p>比较根本的方法还是两种，一是在国外VPS直接clone，然后rsync到本机；二是git走SSH协议且启用代理。</p>
<h4 id="git-ssh">Git SSH协议代理</h4>
<p>git走SSH协议时，可以在 <code>$HOME/.ssh/config</code> 中为其指定特别约定：</p>
<pre><code class="language-bash">host github.com
  User git
  Hostname ssh.github.com
  identityFile ~/.ssh/git/id_rsa
  ProxyCommand nc -X 5 -x 127.0.0.1:1080 %h %p
</code></pre>
<p>在这里，定制了免密码时所用的SSH私钥 <code>~/.ssh/git/id_rsa</code>，以及通过 <code>ProxyCommand</code> 指定了转发 git SSH 流量到 <code>127.0.0.1:1080</code> SOCKS5 代理服务器上。</p>
<p>相应地，公钥 <code>~/.ssh/git/id_rsa.pub</code> 的内容应该在 GitHub 你的 Settings 区中登记到 SSH Keys 中。</p>
<p>这么做将能够对 pull/push/clone 等全部 git 远程操作生效。</p>
<h4 id="git-https">Git HTTPS 协议代理</h4>
<p>值得注意的是，如果是使用 Git https 协议的话，你需要指定 <code>HTTPS_PROXY</code> 环境变量到一个 HTTP 代理，从而转发流量。根据我的经验，在这个时候提供一个诸如 <code>socks://127.0.0.1:1080</code> 的 SOCKS4/5 代理，得到的效果会非常有限，不如将该代理包装为 HTTP 后再使用。</p>
<p>如果不想使用 <code>HTTPS_PROXY</code> 环境变量，Git 允许在其全局配置文件 <code>$HOME/.gitconfig</code> 中指定特定主机或者所有主机的专用代理：</p>
<pre><code class="language-bash">[http &quot;https://skia.googlesource.com&quot;]
    proxy = http://127.0.0.1:8080
[https &quot;https://skia.googlesource.com&quot;]
    proxy = http://127.0.0.1:8080
[http &quot;https://googlesource.com&quot;]
    proxy = http://127.0.0.1:8080
[https &quot;https://googlesource.com&quot;]
    proxy = http://127.0.0.1:8080
</code></pre>
<p>综合比较起来，Git 走 SSH 协议且采用一个很好的 SOCKS5 服务器的话，会相当顺利，很难遇到各色怪现象。</p>
<h4 id="_4">生活充满美好</h4>
<p>我不应该耗费精力在如何拿到开发资源上，对吗？</p>
<p>对的。一台国外的VPS，美国、日本、香港都是被推荐的地点，在那里下载或者拖到目标内容，无论是 GitHub 还是 golang 的内容，然后 rsync 到本地，看似很复杂，然而往往可以在10min 之内搞定一切事情，胜似在本机上折腾 proxy 8h。</p>
<blockquote>
<p>Nothing serious, only explodes without reason.</p>
</blockquote>
<h4 id="git-clone_1">Git-clone 脚本</h4>
<p>为了帮助生活充满美好，提供我的小工具脚本 git-clone，在本文开头的 Tools 部分已经提供：<a href="#git-clone">git-clone</a></p>
<h3 id="github_1">使用 GitHub 镜像网站</h3>
<p>近两年来，即使没有间歇性抽风，全世界也仍然制造了一些 GitHub 的全量镜像网站，它们是有各种各样原因的，一个主要的因素在于 GH 自己泛政治化倾向过于糟糕了，另一方面当然是由于并非只有兔子国才有长城。</p>
<p>所以，如果你并不是在操心怎么 push，仅仅只是为了 pull/fetch/clone 的话，可以使用这些镜像网站来做加速。这个能力对于那些做 DevOps 安装配置工作的人来说是一种福音。</p>
<p>当下，这些镜像网站是值得参考的：</p>
<h4 id="hubnuaacf"><a href="https://hub.nuaa.cf">hub.nuaa.cf</a></h4>
<p>nuaa.cf 比较新，其他几个例如 gitclone，fastgit 现在也爱抽风了。</p>
<p>但是 nuaa.cf 比较复杂，不那么单纯，自行探索吧。</p>
<p>类似的镜像网站相当多但却基本都不怎么靠谱，偶尔应付一下或者行。</p>
<h4 id="gitclonecom">gitclone.com</h4>
<p>它特别在于不仅仅只针对 github，为了启用它，执行一条命令：</p>
<pre><code class="language-bash">git config --global url.&quot;https://gitclone.com/&quot;.insteadOf https://
</code></pre>
<p>或者做精确的限制：</p>
<pre><code class="language-bash">git config --global url.&quot;https://gitclone.com/github.com/&quot;.insteadOf https://github.com/
</code></pre>
<p>然后就可以透明地使用它了，你的 clone 命令无需做任何修改：</p>
<pre><code class="language-bash">git clone https://github.com/hedzr/cmdr.git
</code></pre>
<p>详情请参阅 <a href="https://gitclone.com/docs/feature/gitclone_web">官网</a>。</p>
<h4 id="fastgitorg">fastgit.org</h4>
<p>fastgit 是针对 GitHub 做全量副本的，启用方式为：</p>
<pre><code class="language-bash">git config --global url.&quot;https://hub.fastgit.xyz/&quot;.insteadOf https://github.com/
</code></pre>
<p>参阅：<a href="https://doc.fastgit.org/en-gb/">Home Page | FastGit UK Document</a></p>
<blockquote>
<p>官方显式声明了仅适用于小于 2GB 的 repo</p>
<ol>
<li>请查阅 <a href="https://status.fastgit.org/">https://status.fastgit.org (opens new window)</a>以及 <a href="https://github.com/FastGitORG/uptime">https://github.com/FastGitORG/uptime (opens new window)</a>以确认 FastGit 是否正面临潜在的服务不可用可能性</li>
</ol>
</blockquote>
<h4 id="more">More</h4>
<p>此外还有如：https://github.com.cnpmjs.org/</p>
<h3 id="github_2">此外，GitHub 可以直达</h3>
<p>在很多时候你可能没有注意到 GitHub 的网页，以及 git clone 都是可以直达的。</p>
<p>也就是说，咱们这边也并没有刻意关闭大家的编程、分享路径。</p>
<blockquote>
<p>当然，githubusercontents 等等资源站域名还是需要代理才能访问的。</p>
</blockquote>
<p>但是确确实实地 GH 上有很多政治化倾向很严重的 repos。不仅如此，GH 自己也封锁了太多敌对国程序员的帐户。</p>
<p>我是一个纯粹的技术人，对于技术的政治化是不赞同的。然而即使不去看那些 fan-zhong 的 repos，也不能忽视一个非常严重的问题：GitHub 也会在未来某一天封掉我的帐户，只因为我是中国人，或者采用中国的 IP 访问这里。作为对于中美关系悲观的一个想做纯粹技术人而不可得的我，无可奈何地看到这个未来的事实，感觉是很奇特的。</p>
<p>尽管我也在寻求其它的技术贡献的去政治化的途径，但天下哪有什么净土！Gitlab，BitBucket，Google，它们在政治化封锁上又能比 GitHub 和 Microsoft 好到哪里去呢？</p>
<p>我应该学俄语吗，去那边找找开源托管平台？想到恩格斯5、60岁用了几个月时间就学会了一门外语，我想我也不应该服老，对不对？</p>
<blockquote>
<p>这些感触，其实从疫情开始、中美恶化时就已经有了，不过一直未有宣诸于口。</p>
<p>但是还是应该记录下来，正好此刻更新一下 proxy_set 脚本的实现，就顺便存档吧。</p>
</blockquote>
<h3 id="docker-ce">Docker CE</h3>
<p>Docker CE 的具体加速办法有很多种，然而各种版本的本质都是一样的，一般来说你需要找到 docker daemon 的配置文件 <code>/etc/docker/daemon.json</code>，然后修改它像这样：</p>
<pre><code class="language-json">{
  &quot;insecure-registries&quot;: [
    &quot;registry.mirrors.aliyuncs.com&quot;
  ],
  &quot;debug&quot;: true,
  &quot;experimental&quot;: false,
  &quot;registry-mirrors&quot;: [
    &quot;https://mirror.ccs.tencentyun.com&quot;,
    &quot;https://hub-mirror.c.163.com&quot;,
    &quot;https://docker.mirrors.ustc.edu.cn&quot;,
    &quot;https://dockerhub.azk8s.cn&quot;,
    &quot;https://reg-mirror.qiniu.com&quot;,
    &quot;https://registry.docker-cn.com&quot;
  ]
}
</code></pre>
<p>如果你在这个文件中自定义了其他项目，或者这个文件中已经存在其他定义，请注意保持。</p>
<p>参考：<a href="https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file">https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file</a></p>
<h4 id="_5">附加说明（过时）：</h4>
<table>
<thead>
<tr>
<th>镜像加速器</th>
<th>镜像加速器地址</th>
<th>其它加速？</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://docker-cn.com/registry-mirror">Docker 中国官方镜像</a></td>
<td><code>https://registry.docker-cn.com</code></td>
<td>Docker Hub</td>
</tr>
<tr>
<td><a href="https://github.com/Azure/container-service-for-azure-china/blob/master/aks/README.md#22-container-registry-proxy">Azure 中国镜像</a></td>
<td><code>https://dockerhub.azk8s.cn</code></td>
<td>Docker Hub、GCR、Quay</td>
</tr>
<tr>
<td><a href="https://mirrors.ustc.edu.cn/help/dockerhub.html">科大镜像站</a></td>
<td><code>https://docker.mirrors.ustc.edu.cn</code></td>
<td>Docker Hub、<a href="https://github.com/ustclug/mirrorrequest/issues/91">GCR</a>、<a href="https://github.com/ustclug/mirrorrequest/issues/135">Quay</a></td>
</tr>
<tr>
<td><a href="https://kirk-enterprise.github.io/hub-docs/#/user-guide/mirror">七牛云</a></td>
<td><code>https://reg-mirror.qiniu.com</code></td>
<td>Docker Hub、GCR、Quay</td>
</tr>
<tr>
<td><a href="https://c.163yun.com/hub">网易云</a></td>
<td><code>https://hub-mirror.c.163.com</code></td>
<td>Docker Hub</td>
</tr>
<tr>
<td><a href="https://cloud.tencent.com/document/product/457/9113">腾讯云</a></td>
<td><code>https://mirror.ccs.tencentyun.com</code></td>
<td>Docker Hub</td>
</tr>
</tbody>
</table>
<h4 id="2024">2024 年下半年起附加说明</h4>
<p>https://docker.lmirror.top</p>
<p><a href="https://docker.m.daocloud.io/">https://docker.m.daocloud.io</a>
<a href="https://noohub.ru/">https://noohub.ru</a><br />
<a href="https://huecker.io/">https://huecker.io</a>
<a href="https://dockerhub.timeweb.cloud/">https://dockerhub.timeweb.cloud</a></p>
<p>More：</p>
<pre><code>    &quot;https://dockerhub.icu&quot;,
    &quot;https://docker.chenby.cn&quot;,
    &quot;https://docker.1panel.live&quot;,
    &quot;https://docker.awsl9527.cn&quot;,
    &quot;https://docker.anyhub.us.kg&quot;,
    &quot;https://dhub.kubesre.xyz&quot;
</code></pre>
<p>其他<a href="https://gist.github.com/y0ngb1n/7e8f16af3242c7815e7ca2f0833d3ea6">镜像源和方法</a></p>
<h3 id="alpine-apk">Alpine Apk</h3>
<p>清华提供一种Apk源加速方式：https://mirror.tuna.tsinghua.edu.cn/help/alpine/</p>
<p>在终端输入以下命令以替换TUNA镜像源： <code>sed -i 's/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g' /etc/apk/repositories</code></p>
<pre><code class="language-bash">sed -i 's/dl-cdn.alpinelinux.org/mirrors.tuna.tsinghua.edu.cn/g' /etc/apk/repositories
</code></pre>
<p>制作 Docker 镜像时，这是很有用的，节约生命真的是美德。</p>
<h3 id="android-sdk">Android SDK</h3>
<p>国内有多家组织提供 Android SDK的镜像缓存，甚至个人也可以很容易地建立这样的缓存，如果你有国内访问速度很好的国外服务器的话。</p>
<p>但是，随着时间推移，现在这些镜像基本上都已失效了。</p>
<p>取而代之的是，目前，Android的官方源是可以直连的，且能达到正常速度，所以还是赶紧滴做点负责任的app出来吧，不要只是会矽肺或者偷偷上传神马的。</p>
<h3 id="arch-linux-pacman">Arch Linux Pacman</h3>
<p>清华提供一种 Arch Linux 软件仓库加速方式：https://mirror.tuna.tsinghua.edu.cn/help/archlinux/</p>
<p>编辑 /etc/pacman.d/mirrorlist， 在文件的最顶端添加： <code>Server = https://mirrors.tuna.tsinghua.edu.cn/archlinux/$repo/os/$arch</code></p>
<p>更新软件包缓存： <code>sudo pacman -Syy</code></p>
<h3 id="curl">curl</h3>
<p>可以给 curl 挂上 socks5 的代理。</p>
<p>在~/.curlrc文件中输入代理地址即可。</p>
<pre><code class="language-bash">socks5 = &quot;127.0.0.1:1080&quot;
</code></pre>
<p>也可以一次性：</p>
<pre><code class="language-bash">curl -x socks5://127.0.0.1:1080 https://www.google.com
</code></pre>
<p>如果临时不需要代理使用以下参数：</p>
<pre><code class="language-bash">curl --noproxy &quot;*&quot; https://www.google.com
</code></pre>
<h4 id="envvar">EnvVar</h4>
<p>环境变量 ALL_PROXY, HTTP_PROXY, HTTPS_PROXY 也对 curl 有效</p>
<h5 id="special">Special</h5>
<p>你甚至可以通过 http_proxy 直接使用 socks5 代理：</p>
<pre><code class="language-bash">export http_proxy=socks5://127.0.0.1:1080
export https_proxy=$http_proxy
</code></pre>
<p>经验证明，这种方式（通过 http_proxy 来使用 socks5 代理）通常是不好使的，你应该寻求一个转换工具将 socks5 转换到 http 代理，才能在命令行中最好地借用代理的能力。</p>
<blockquote>
<p>环境变量如果区分大小写（如Linux/mac)，则上述语句应该为大写形式重复一次，以免遗漏。</p>
</blockquote>
<h4 id="_6">快速别名</h4>
<pre><code class="language-bash">alias setproxy=&quot;export http_proxy=socks5://127.0.0.1:1080; export https_proxy=$http_proxy; echo 'HTTP Proxy on';&quot;
alias unsetproxy=&quot;unset http_proxy; unset https_proxy; echo 'HTTP Proxy off';&quot;
</code></pre>
<h4 id="_7">更好的</h4>
<p>同时适用于 zsh 和 bash 的脚本片段如下，将其粘贴到 .bashrc/.zshrc 中重新开启终端会话即可享受：</p>
<pre><code class="language-bash">proxy_set(){
  local onoff=${1:-usage}
  case $onoff in
  on|ON|1|yes|ok|enable|enabled|open|allow)
    export http_proxy=http://127.0.0.1:8001
    export https_proxy=$http_proxy https_proxy=$http_proxy HTTPS_PROXY=$http_proxy
    echo 'HTTP Proxy on (http)'
    ;;
  off|OFF|0|no|bad|disable|disabled|close|disallow|deny)
    unset all_proxy http_proxy https_proxy HTTP_PROXY HTTPS_PROXY
    echo 'HTTP Proxy off (http)'
    ;;
  usage)
    echo 'Usage: proxy_set on|off|enable|disable|allow|deny'
    ;;
  esac
}
</code></pre>
<p>使用时，直接 <code>proxy_set on</code> 或者 <code>proxy_set off</code> 即可。</p>
<h3 id="flutter-dart-pub">Flutter &amp; Dart Pub</h3>
<p>flutter 官网有专门的页面讲述加速问题：</p>
<p><a href="https://flutter.dev/community/china">https://flutter.dev/community/china</a></p>
<h4 id="flutter">Flutter 镜像安装帮助</h4>
<p>Flutter 是一款跨平台的移动应用开发框架，由 Google 开源。用 Flutter 开发的应用可以直接编译成 ARM 代码运行在 Android 和 iOS 系统上。</p>
<p>可以使用清华镜像：https://mirror.tuna.tsinghua.edu.cn/help/flutter/</p>
<p>Flutter 安装时需要从 Google Storage 下载文件，如您的网络访问 Google 受阻，建议使用本镜像。使用方法为设置环境变量 <code>FLUTTER_STORAGE_BASE_URL</code>，并指向 TUNA 镜像站。</p>
<pre><code class="language-bash">$ export FLUTTER_STORAGE_BASE_URL=&quot;https://mirrors.tuna.tsinghua.edu.cn/flutter&quot;
</code></pre>
<p>若希望长期使用 TUNA 镜像：</p>
<pre><code class="language-bash">$ echo 'export FLUTTER_STORAGE_BASE_URL=&quot;https://mirrors.tuna.tsinghua.edu.cn/flutter&quot;' &gt;&gt; ~/.bashrc
</code></pre>
<p>此外 Flutter 开发中还需要用到 Dart 语言的包管理器 Pub，其镜像使用方法参见<a href="https://mirror.tuna.tsinghua.edu.cn/help/dart-pub/">Pub 镜像安装帮助</a>。</p>
<h3 id="go-modules">Go Modules</h3>
<p>使用 Golang v1.11 以上，为你的项目启用 Go Modules 功能，然后就可以使用 GOPROXY 环境变量来透明地使用镜像代理。</p>
<p>比较著名的大陆加速器为：</p>
<pre><code class="language-bash">export GOPROXY=https://goproxy.cn
# Windows 应该使用 set GOPROXY=xxxx 语法
</code></pre>
<p>然后 <code>go mod download</code> 以及 <code>go mod tidy</code> 就足够快了。</p>
<p>如果你想搭建私服，可以遵循 Go Modules 的 API 规范自己实现一个代理服务器，也可以使用开源的  <a href="https://github.com/gomods/athens">athens</a> 项目自建一个服务器。</p>
<p>如果使用 Golang 1.13 以上版本的话，以下语法可用：</p>
<pre><code class="language-bash">export GOPROXY=https://goproxy.cn,https://goproxy.io,https://gocenter.i
o,direct
</code></pre>
<h4 id="_8">参考</h4>
<p>关于中国的 goproxy.cn：<a href="https://juejin.im/post/5d8ee2db6fb9a04e0b0d9c8b">干货满满的Go Modules 和goproxy.cn - 掘金</a></p>
<p>关于 go 1.13 的 Modules：<a href="https://colobu.com/2019/09/23/review-go-module-again/">Go module 再回顾| 鸟窝</a></p>
<p>关于 <a href="https://github.com/gomods/athens">athens</a> 实现以及 Go Modules Communicated Protocol: <a href="https://www.speechmatics.com/wp-content/uploads/2019/07/Go-modules-and-project-Athens.pdf">Go modules and project Athens - Speechmatics</a>, Athens Official Site: https://docs.gomods.io/。</p>
<p>关于 Go Modules 的通讯协议：<a href="https://blog.cyeam.com/golang/2018/09/27/athens">为Go module 搭建私服</a> 以及 <a href="https://docs.gomods.io/design/">The Design of Athens</a>：</p>
<ol>
<li><a href="https://docs.gomods.io/design/proxy">Proxy internals</a> - basics of the Athens proxy architecture and major features</li>
<li><a href="https://docs.gomods.io/design/communication">Communication flow</a> - how the Athens proxy interacts with the outside world to fetch and store code, respond to user requests, and so on</li>
</ol>
<h3 id="gradle">Gradle</h3>
<p>Gradle的配置文件为<code>~/.gradle/init.gradle</code>：</p>
<pre><code class="language-gradle">allprojects {
    repositories {
        maven {
            url 'https://maven.aliyun.com/repository/public/'
        }
    }
    buildscript {
        repositories {
            maven {
                url 'https://maven.aliyun.com/repository/public/'
            }
        }
    }
}
</code></pre>
<p>以下的镜像可以选用</p>
<ul>
<li>华为：https://mirrors.huaweicloud.com/repository/maven/</li>
<li>网易：https://mirrors.163.com/maven/repository/maven-public/</li>
</ul>
<h3 id="gem-cocoapods">Gem 和 CocoaPods</h3>
<h4 id="ruby">替换 Ruby 源</h4>
<p>首先是 gem 和 ruby 的源应该被替换</p>
<h5 id="ruby_1">移除现有的Ruby镜像</h5>
<pre><code class="language-bash">$ gem sources --remove https://rubygems.org
</code></pre>
<h5 id="_9">添加国内最新镜像</h5>
<pre><code class="language-bash">$ gem sources -a https://gems.ruby-china.com
</code></pre>
<h5 id="_10">查看当前镜像</h5>
<pre><code class="language-bash">$ gem sources -l
</code></pre>
<p>编辑 <code>~/.gemrc</code> 也可以</p>
<h4 id="bundler">bundler</h4>
<p>对于 Ruby 开发，bundler可能需要如下的操作：</p>
<pre><code class="language-bash">bundle config mirror.https://rubygems.org https://mirrors.tuna.tsinghua.edu.cn/rubygems
</code></pre>
<blockquote>
<p>参考清华镜像：https://mirrors.tuna.tsinghua.edu.cn/help/rubygems/</p>
<p>或者：http://bundler.io/v1.16/man/bundle-config.1.html#MIRRORS-OF-GEM-SOURCES</p>
</blockquote>
<h4 id="cocoapods">加速 Cocoapods</h4>
<p>几种加速方法，可能需要自己实际测试那种效果最好。</p>
<h5 id="gitee">gitee镜像</h5>
<pre><code class="language-bash">pod repo remove master   
pod repo add master https://gitee.com/mirrors/CocoaPods-Specs   
pod repo update   
</code></pre>
<h5 id="_11">清华镜像</h5>
<pre><code class="language-bash">pod repo remove master   
pod repo add master https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git   
pod repo update   
</code></pre>
<p>对于 Cocoapods 新的版本，需要使用如下的方法：</p>
<pre><code class="language-bash">pod repo remove master
cd ~/.cocoapods/repos
git clone https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git master
</code></pre>
<h5 id="xcode-podfile">你的 xcode 工程中如果有Podfile的话，请修改加入下面的行：</h5>
<pre><code class="language-ruby">source 'https://gitee.com/mirrors/CocoaPods-Specs.git'
source 'https://mirrors.tuna.tsinghua.edu.cn/git/CocoaPods/Specs.git'
</code></pre>
<h3 id="homebrew">Homebrew</h3>
<p>macOS 中都会安装 Homebrew，但 <code>brew update</code> 可能会很慢。加速的办法是替换现有的上游：</p>
<pre><code class="language-bash">git -C &quot;$(brew --repo)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git

git -C &quot;$(brew --repo homebrew/core)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git

git -C &quot;$(brew --repo homebrew/cask)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git

brew update
</code></pre>
<h4 id="_12">复原</h4>
<p><em>(感谢Snowonion Lee提供说明)</em></p>
<pre><code class="language-bash">git -C &quot;$(brew --repo)&quot; remote set-url origin https://github.com/Homebrew/brew.git

git -C &quot;$(brew --repo homebrew/core)&quot; remote set-url origin https://github.com/Homebrew/homebrew-core.git

git -C &quot;$(brew --repo homebrew/cask)&quot; remote set-url origin https://github.com/Homebrew/homebrew-cask.git

brew update
</code></pre>
<p>以上内容从清华开源上复制：<a href="https://mirror.tuna.tsinghua.edu.cn/help/homebrew/">Homebrew 镜像使用帮助</a></p>
<p>如果想阻止 brew 指令运行时总是尝试去自动更新，可以设置环境变量：</p>
<pre><code class="language-bash"># forbit autoupdate on homebrew installing
export HOMEBREW_NO_AUTO_UPDATE=1
</code></pre>
<h4 id="pub">Pub 镜像安装帮助</h4>
<p><a href="https://pub.dartlang.org/">Pub</a> 是 Dart 官方的包管理器。跨平台的前端应开发 框架 <a href="https://flutter.dev/">Flutter</a> 也基于 Dart 并且可以使用大部分 Pub 中的 库。</p>
<p>如果希望通过 TUNA 的 pub 镜像安装软件，只需要设置 <a href="https://www.dartlang.org/tools/pub/environment-variables">PUB_HOSTED_URL</a> 这个环境变量指向 https://mirrors.tuna.tsinghua.edu.cn/dart-pub/ 即可。</p>
<p>以 bash 为例，临时使用 TUNA 的镜像来安装依赖：</p>
<pre><code class="language-bash">$ PUB_HOSTED_URL=&quot;https://mirrors.tuna.tsinghua.edu.cn/dart-pub/&quot; pub get # pub
$ PUB_HOSTED_URL=&quot;https://mirrors.tuna.tsinghua.edu.cn/dart-pub/&quot; flutter packages get # flutter
</code></pre>
<p>若希望长期使用 TUNA 镜像：</p>
<pre><code class="language-bash">$ echo 'export PUB_HOSTED_URL=&quot;https://mirrors.tuna.tsinghua.edu.cn/dart-pub/&quot;' &gt;&gt; ~/.bashrc
</code></pre>
<h3 id="mageia">Mageia</h3>
<p>Mageia Linux 是基于 Mandriva Linux 改造而来的发行版，它的 KDE 界面做的比较细腻，完全不像多数 KDE 发行版如同上世纪的 Window XP 那般的粗糙。</p>
<p>Mageia 目前在版本 8，而 9 的 Beta 版出了，也许快要出正式版了。</p>
<p>以版本 8 为例，你可以为其添加南京大学的镜像源。</p>
<p>由于从 Mageia 6 开始，Mageia 的软件仓库同时兼容 urpmi 和 dnf，两个包管理器默认情况下均被预装。目前看来 urpmi 是它的默认包管理器，例如 Mageia 控制中心就是专门调用 urpmi 的，所以配置 urpmi 的源是首要任务。相应的，dnf 的配置次之。</p>
<h4 id="list-software-sources">List software sources</h4>
<pre><code class="language-bash"># show the interpreted configuration from /etc/urpmi/urpmi.cfg 
urpmq --dump

urpmq --list-media active --list-url

urpmq --list-media
</code></pre>
<h4 id="_13">添加源</h4>
<h5 id="urpmi">urpmi 配置方法</h5>
<p>移除所有已添加的软件仓库（sudo 似乎是没有被预装的，可以在稍后再安装使用）：</p>
<pre><code class="language-bash">su
urpmi.removemedia -a

# or
sudo urpmi.removemedia -a
</code></pre>
<blockquote>
<p>但是实际上我们认为你不必移除系统默认的官方源。</p>
<p>此外，建议做好备份：</p>
<p><code>bash
sudo cp /etc/urpmi/urpmi.cfg{,.save.1}</code></p>
</blockquote>
<p>添加中科大的软件源，以 Mageia 6，x86_64 架构为例：</p>
<pre><code class="language-bash">su
urpmi.addmedia --distrib https://mirrors.ustc.edu.cn/mageia/distrib/8/x86_64

# or:
sudo urpmi.addmedia --distrib https://mirror.nju.edu.cn/mageia/distrib/8/x86_64
</code></pre>
<p>刷新缓存：</p>
<pre><code class="language-bash">su
urpmi.update -a

# or
sudo urpmi.update -a
</code></pre>
<h5 id="dnf">dnf 配置方法</h5>
<p>dnf 在默认情况下已经被预装，如果你发现并没有，可以使用 urpmi 安装：</p>
<pre><code class="language-bash">su
urpmi mageia-repos dnf

# or
sudo urpmi mageia-repos dnf
</code></pre>
<p>接下来编辑 <code>/etc/yum.repos.d/</code> 中的文件：</p>
<p>将所有文件中的：</p>
<pre><code class="language-config">#baseurl=https://mirrors.kernel.org/mageia/
</code></pre>
<p>替换为：</p>
<pre><code class="language-config">baseurl=https://mirrors.ustc.edu.cn/mageia/
</code></pre>
<blockquote>
<p>注意应该事先做好备份：</p>
<p><code>bash
cd /etc/yum.repos.d
for i in *.repo; do sudo cp $i{,.save.1}; done</code></p>
</blockquote>
<p>这可以通过如下命令达成：</p>
<pre><code class="language-bash">cd /etc/yum.repos.d
sudo sed -i.bak -r 's,#baseurl=https://mirrors.kernel.org/mageia/,baseurl=https://mirror.nju.edu.cn/mageia/,ig' *.repo
</code></pre>
<p>最后刷新一下：</p>
<pre><code class="language-bash">sudo dnf makecache
</code></pre>
<h3 id="maven">Maven</h3>
<h4 id="aliyun">采用aliyun镜像</h4>
<p>编辑 <code>$HOME/.m2/settings.xml</code>，找到 <code>&lt;mirrors&gt;</code> 小节，添加如下内容：</p>
<pre><code class="language-xml">&lt;mirror&gt;
    &lt;id&gt;aliyun-public&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun public&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/public&lt;/url&gt;
&lt;/mirror&gt;

&lt;mirror&gt;
    &lt;id&gt;aliyun-central&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun central&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/central&lt;/url&gt;
&lt;/mirror&gt;

&lt;mirror&gt;
    &lt;id&gt;aliyun-spring&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun spring&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/spring&lt;/url&gt;
&lt;/mirror&gt;

&lt;mirror&gt;
    &lt;id&gt;aliyun-spring-plugin&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun spring-plugin&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/spring-plugin&lt;/url&gt;
&lt;/mirror&gt;

&lt;mirror&gt;
    &lt;id&gt;aliyun-apache-snapshots&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun apache-snapshots&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/apache-snapshots&lt;/url&gt;
&lt;/mirror&gt;

&lt;mirror&gt;
    &lt;id&gt;aliyun-google&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun google&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/google&lt;/url&gt;
&lt;/mirror&gt;

&lt;mirror&gt;
    &lt;id&gt;aliyun-gradle-plugin&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun gradle-plugin&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/gradle-plugin&lt;/url&gt;
&lt;/mirror&gt;

&lt;mirror&gt;
    &lt;id&gt;aliyun-jcenter&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun jcenter&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/jcenter&lt;/url&gt;
&lt;/mirror&gt;

&lt;mirror&gt;
    &lt;id&gt;aliyun-releases&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun releases&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/releases&lt;/url&gt;
&lt;/mirror&gt;

&lt;mirror&gt;
    &lt;id&gt;aliyun-snapshots&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun snapshots&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/snapshots&lt;/url&gt;
&lt;/mirror&gt;  

&lt;mirror&gt;
    &lt;id&gt;aliyun-grails-core&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun grails-core&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/grails-core&lt;/url&gt;
&lt;/mirror&gt;

&lt;mirror&gt;
    &lt;id&gt;aliyun-mapr-public&lt;/id&gt;
    &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;
    &lt;name&gt;aliyun mapr-public&lt;/name&gt;
    &lt;url&gt;https://maven.aliyun.com/repository/mapr-public&lt;/url&gt;
&lt;/mirror&gt;
</code></pre>
<p>也可以采用 profile 方式，这里就不再赘述了。</p>
<h3 id="node-npmyarn">Node 和 npm/Yarn</h3>
<p>可以更换镜像：</p>
<ul>
<li>阿里：<code>yarn config set registry https://registry.npmmirror.com</code></li>
<li>华为： <code>yarn config set registry https://mirrors.huaweicloud.com/repository/npm/</code></li>
<li>Node-Sass： <code>npm config set sass_binary_site https://mirrors.huaweicloud.com/node-sass/</code></li>
</ul>
<pre><code class="language-bash">npm config delete registry

yarn --registry=https://registry.company.com/

yarn config get registry
yarn config delete registry
yarn config set registry 
</code></pre>
<p>使用 npm 的示例如下：</p>
<pre><code class="language-bash">cd nodejs-project-a

# install fnm
which fnm 1&gt;/dev/null 2&gt;&amp;1 || curl -fsSL https://fnm.vercel.app/install | bash
eval $(~/.local/share/fnm/fnm env)
fnm --version

# install nodejs
[ -f .node-version ] &amp;&amp; cat .node-version || echo v20.13.1 &gt;.node-version
fnm install

which node &amp;&amp; which npm
node -v &amp;&amp; npm -v

# setup mirror site for nodejs
npm config set registry http://registry.npm.taobao.org/

# install pnpm
npm i -g npm
npm i -g pnpm
npm i -g yarn
</code></pre>
<p>DONE.</p>
<h3 id="opensuse">openSUSE 软件源</h3>
<p>正常情况下，openSUSE 内置了速度测试（<a href="https://zh.opensuse.org/MirrorBrain">MirrorBrain</a> 技术）以便自动选择最佳的镜像站点来下载软件包索引、以及在安装时下载软件包本身。</p>
<p>但这个技术依赖于你首先要能访问到 openSUSE 位于德国的根索引。</p>
<p>通常，大陆用户会觉得满意。</p>
<p>但偶尔也会发生抖动现象。此时可以考虑采用镜像源来帮助加速获取元数据（通常至少包含了镜像源站点列表）获取。</p>
<blockquote>
<p>参照：<a href="https://help.mirrors.cernet.edu.cn/opensuse/">https://help.mirrors.cernet.edu.cn/opensuse/</a></p>
</blockquote>
<h4 id="opensuse-leap-152">openSUSE Leap 15.2 或更新版本使用方法</h4>
<p>禁用官方软件源</p>
<pre><code class="language-bash">sudo zypper mr -da
</code></pre>
<p>添加镜像源</p>
<pre><code class="language-bash">sudo zypper ar -cfg 'https://mirrors.cernet.edu.cn/opensuse/distribution/leap/$releasever/repo/oss/' mirror-oss
sudo zypper ar -cfg 'https://mirrors.cernet.edu.cn/opensuse/distribution/leap/$releasever/repo/non-oss/' mirror-non-oss
sudo zypper ar -cfg 'https://mirrors.cernet.edu.cn/opensuse/update/leap/$releasever/oss/' mirror-update
sudo zypper ar -cfg 'https://mirrors.cernet.edu.cn/opensuse/update/leap/$releasever/non-oss/' mirror-update-non-oss
</code></pre>
<p>Leap 15.3 用户还需添加 sle 和 backports 源</p>
<pre><code class="language-bash">sudo zypper ar -cfg 'https://mirrors.cernet.edu.cn/opensuse/update/leap/$releasever/sle/' mirror-sle-update
sudo zypper ar -cfg 'https://mirrors.cernet.edu.cn/opensuse/update/leap/$releasever/backports/' mirror-backports-update
</code></pre>
<p>Leap 15.3 注：若在安装时<strong>没有</strong>启用在线软件源，sle 源和 backports 源将在系统首次更新后引入，请确保系统在更新后仅启用了<strong>六个</strong>所需软件源。可使用 <code>zypper lr</code> 检查软件源状态，并使用 <code>zypper mr -d</code> 禁用多余的软件源。</p>
<h4 id="opensuse-tumbleweed">openSUSE Tumbleweed 使用方法</h4>
<p>禁用官方软件源</p>
<pre><code class="language-bash">sudo zypper mr -da
</code></pre>
<p>添加镜像源</p>
<pre><code class="language-bash">sudo zypper ar -cfg 'https://mirrors.cernet.edu.cn/opensuse/tumbleweed/repo/oss/' mirror-oss
sudo zypper ar -cfg 'https://mirrors.cernet.edu.cn/opensuse/tumbleweed/repo/non-oss/' mirror-non-oss
</code></pre>
<p>刷新软件源</p>
<pre><code class="language-bash">sudo zypper ref
</code></pre>
<p>Tumbleweed 注：Tumbleweed 安装后默认会启用 oss, non-oss, update, 3 个官方软件源， 其中 oss 及 non-oss 源用于发布 Tumbleweed 的每日构建快照，快照中已包含系统所需的全部软件包及更新。 update 源仅用于推送临时安全补丁，如当日快照已发布但仍有临时安全补丁时，会首先推送至 update 源，并在次日合入下一版快照。 由于 update 源存在较强的时效性，上游镜像并未同步 update 源，镜像源亦无法提供该源的镜像。 禁用 update 源并不会使系统缺失任何功能或安全更新，仅会导致极少数更新晚些推送，如有需求可以重新启用官方 update 源。</p>
<h3 id="python-pip-composer">Python pip 和 composer</h3>
<h4 id="pip">Pip</h4>
<ul>
<li>清华：<code>pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</code></li>
<li>阿里：<code>pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/</code></li>
<li>华为：<code>pip config set global.index-url https://mirrors.huaweicloud.com/repository/pypi/simple</code></li>
<li>豆瓣：<code>pip config set global.index-url https://pypi.douban.com/simple</code></li>
</ul>
<pre><code class="language-bash"># 以下可以选用其一

# 清华：
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
# 阿里：
pip config set global.index-url https://mirrors.aliyun.com/pypi/simple/
# 华为：
pip config set global.index-url https://mirrors.huaweicloud.com/repository/pypi/simple
# 豆瓣：
pip config set global.index-url https://pypi.douban.com/simple
</code></pre>
<h4 id="composer">Composer</h4>
<pre><code class="language-bash"># 以下可以选用其一

# 阿里：
composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/
# 华为：
composer config -g repo.packagist composer https://mirrors.huaweicloud.com/repository/php/

# Laravel中文网
composer config -g repo.packagist composer https://packagist.laravel-china.org
</code></pre>
<h4 id="sequel">Sequel</h4>
<p>完成pip加速配置之后，<code>$HOME/.pip/pip.conf</code> 看起来可能会像这样：</p>
<pre><code class="language-ini">[global]
#index-url = http://pypi.mirrors.ustc.edu.cn/simple

trusted-host =  mirrors.aliyun.com
index-url = http://mirrors.aliyun.com/pypi/simple
# index-url = http://pypi.douban.com/simple
# trusted-host = pypi.douban.com
disable-pip-version-check = true
timeout = 120

[install]
ignore-installed = true
# 不自动安装依赖的时候设置此选项
# no-dependencies = yes

[list]
format = columns
</code></pre>
<h3 id="r-cran">R CRAN</h3>
<p>采用清华开源站：</p>
<p><a href="https://cran.r-project.org/">CRAN</a> (The Comprehensive R Archive Network) 镜像源配置文件之一是 <code>.Rprofile</code> (linux 下位于 <code>~/.Rprofile</code> )。</p>
<p>在文末添加如下语句:</p>
<pre><code class="language-config">options(&quot;repos&quot; = c(CRAN=&quot;https://mirrors.tuna.tsinghua.edu.cn/CRAN/&quot;))
</code></pre>
<p>打开 R 即可使用该 CRAN 镜像源安装 R 软件包。</p>
<p>也可以使用其他镜像站：</p>
<ul>
<li><a href="https://mirror.lzu.edu.cn/CRAN">https://mirror.lzu.edu.cn/CRAN</a></li>
<li>...</li>
</ul>
<p>如果使用 R Console，可以在 Perferences 设置对话框中直接设置官方镜像的上海、香港、兰州等节点。</p>
<h3 id="rust-cargo-rustup">Rust Cargo 和 Rustup</h3>
<p>Rust 使用 creates.io，国内也有相应的提速手段：</p>
<p>https://lug.ustc.edu.cn/wiki/mirrors/help/rust-crates</p>
<p>首先你需要在 $HOME/.cargo/config 中添加如下内容</p>
<pre><code class="language-ini">[registry]
index = &quot;git://mirrors.ustc.edu.cn/crates.io-index&quot;
# Or
# index = &quot;http://mirrors.ustc.edu.cn/crates.io-index&quot;
</code></pre>
<p>如果 cargo 版本为 0.13.0 或以上, 需要更改 $HOME/.cargo/config 为以下内容:</p>
<pre><code class="language-ini">[source.crates-io]
registry = &quot;https://github.com/rust-lang/crates.io-index&quot;
replace-with = 'ustc'
[source.ustc]
registry = &quot;git://mirrors.ustc.edu.cn/crates.io-index&quot;
</code></pre>
<p>有兴趣自建的朋友，可以看看：</p>
<p>https://github.com/rust-lang/crates.io/blob/master/docs/MIRROR.md</p>
<p>清华TUNA 也有 rustup 相应的镜像</p>
<pre><code class="language-bash"># export CARGO_HOME=$HOME/.cargo
# export RUSTUP_HOME=$HOME/.rustup
export RUSTUP_DIST_SERVER=https://mirrors.tuna.tsinghua.edu.cn/rustup
</code></pre>
<p>详见：https://mirror.tuna.tsinghua.edu.cn/help/rustup/</p>
<h4 id="fixup">Fixup</h4>
<p>对于上面的镜像站的提示来说，有一定的问题，你有可能遇到这样的问题：</p>
<pre><code class="language-plain">warning: Signature verification failed for 'https://mirrors.tuna.tsinghua.edu.cn/rustup/dist/channel-rust-stable.toml'
</code></pre>
<p>这是由于它们提供的方法有微小的问题：你不应该使用 <code>RUSTUP_DIST_SERVER</code> 环境变量，而是应该使用 <code>RUSTUP_UPDATE_ROOT</code> 变量名。所以正确的环境变量设置应该以下面的示例为准：</p>
<pre><code class="language-bash">export CARGO_HOME=$HOME/.cargo
export RUSTUP_HOME=$HOME/.rustup
#export RUSTUP_DIST_SERVER=https://mirrors.tuna.tsinghua.edu.cn/rustup
#export RUSTUP_UPDATE_ROOT=$RUSTUP_DIST_SERVER/rustup
export RUSTUP_UPDATE_ROOT=https://mirrors.tuna.tsinghua.edu.cn/rustup/rustup
</code></pre>
<p>此外，旧的升级方法也有所废弃，现在你要升级 rustc 和 cargo 版本的话，需要如下的命令：</p>
<pre><code class="language-bash">rustup update stable
</code></pre>
<p>其它的旧指令都可以忘记。</p>
<p>另外，一个“正确”的 <code>$HOME/.cargo/config</code> 文件应该如此：</p>
<pre><code class="language-toml">[source]

[source.crates-io]
# registry = &quot;https://github.com/rust-lang/crates.io-index&quot;
replace-with = 'ustc'

[source.ustc]
registry = &quot;git://mirrors.ustc.edu.cn/crates.io-index&quot;
</code></pre>
<p>不要给出多余的 registry 变量，它可能会是 <code>Update cargo.io indexes</code> 挂起的原因。</p>
<h3 id="ubuntu-apt-source">Ubuntu Apt Source</h3>
<p>如果你使用桌面版本，则 Ubuntu 的软件源设置中，你可以选取最近的地区，例如中国大陆，从而加速软件包下载速度。</p>
<p>如果使用 Server 版本，则可以明确地使用清华镜像（或者自行使用其他镜像）</p>
<pre><code class="language-bash"># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse

# 预发布软件源，不建议启用
# deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
# deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
</code></pre>
<p>以上例子为 18.04 版本的替换内容。你可以直接访问清华开源站查找其他版本：</p>
<p><a href="https://mirror.tuna.tsinghua.edu.cn/help/ubuntu/">https://mirror.tuna.tsinghua.edu.cn/help/ubuntu/</a></p>
<h4 id="_14">其他方法</h4>
<p><a href="https://askubuntu.com/questions/39922/how-do-you-select-the-fastest-mirror-from-the-command-line">https://askubuntu.com/questions/39922/how-do-you-select-the-fastest-mirror-from-the-command-line</a></p>
<h4 id="_15">推荐的方法</h4>
<p>上面的两个方法各有各的道理，惟其手续驳杂，颇伤脑筋。所以这里提供一份我的脚本版本，可以让你减轻负担：</p>
<pre><code class="language-bash">mirror=mirrors.ustc.edu.cn
SUDO=sudo

cd /etc/apt
[ -f sources.list.orig ] || $SUDO cp sources.list{,.orig}
$SUDO sed -i -r &quot;s/us.archive.ubuntu.com/$mirror/&quot; /etc/apt/sources.list
$SUDO sed -i -r &quot;s/cn.archive.ubuntu.com/$mirror/&quot; /etc/apt/sources.list
# $SUDO sed -i -r &quot;s/archive.ubuntu.com/$mirror/&quot; /etc/apt/sources.list
$SUDO sed -i -r &quot;s#http://mirror#https://mirror#&quot; /etc/apt/sources.list
$SUDO apt update
</code></pre>
<p>注意默认时上述脚本不会替换 archive.ubuntu.com，通常这个服务器速度比较正常。但如果你的实际体验感觉到太慢的话，那么取消脚本里注释掉的那一行，然后 sudo apt update 并且重新尝试。</p>
<blockquote>
<p>为了逻辑清晰，脚本没有优化。</p>
<p>但是你可以将 line 6-8 的 sed 语句优化为单条命令：</p>
<p><code>bash
$SUDO sed -i -r "s/.*archive.ubuntu.com/$mirror/" /etc/apt/sources.list</code></p>
</blockquote>
<h4 id="sudo">免密码 sudo</h4>
<p>让你的账户 sudo 时不必输入密码，可以这么做：</p>
<pre><code class="language-bash">sudo groupadd -g 201 power
sudo usermod -aG power $USER
echo &quot;%power   ALL=(ALL) NOPASSWD: ALL&quot; | sudo tee /etc/sudoers.d/power
sudo chmod 440 /etc/sudoers.d/power
</code></pre>
<p>你可以翻阅我以前的 post： <a href="https://hedzr.com/devops/linux/ubuntu-20.04-setup-essentials#%E5%90%AF%E7%94%A8%E5%85%8D%E5%AF%86-sudo">Ubuntu Server 安装提要</a>。那里对这方面讲述的仔细一点。 </p>
<h5 id="apt-select">使用 apt-select</h5>
<p>可以用 <code>pip</code> 安装它：</p>
<pre><code class="language-bash">pip install apt-select
</code></pre>
<p>然后运行它并跟随提示走：</p>
<pre><code class="language-bash">apt-select --country US -t 5 --choose
</code></pre>
<h5 id="mirrors-cdn">使用mirrors CDN</h5>
<p>apt-get <a href="http://mvogt.wordpress.com/2011/03/21/the-apt-mirror-method/">now supports</a> a 'mirror' method that will automatically select a good mirror based on your location. Putting:</p>
<pre><code>deb mirror://mirrors.ubuntu.com/mirrors.txt precise main restricted universe multiverse
deb mirror://mirrors.ubuntu.com/mirrors.txt precise-updates main restricted universe multiverse
deb mirror://mirrors.ubuntu.com/mirrors.txt precise-backports main restricted universe multiverse
deb mirror://mirrors.ubuntu.com/mirrors.txt precise-security main restricted universe multiverse
</code></pre>
<p>on the top in your <code>/etc/apt/sources.list</code> file should be all that is needed to make it automatically pick a mirror for you based on your geographical location.</p>
<p>你可以无脑地使用 sed 来搞定：</p>
<pre><code class="language-bash">sudo sed -i 's%us.archive.ubuntu.com/ubuntu/%mirrors.ubuntu.com/mirrors.txt%' /etc/apt/sources.list
</code></pre>
<h3 id="ubuntu-ppa-source">Ubuntu PPA Source</h3>
<p>PPA 一般我都是硬来。但是久而久之也就不能忍了，所以它也可以替换国内源的，就干吧。</p>
<h4 id="launchpadproxyustclugorg"><code>launchpad.proxy.ustclug.org</code> 废了</h4>
<p>本来 <code>launchpad.proxy.ustclug.org</code> 是很不错的镜像，但是已经废了：</p>
<pre><code class="language-bash">sudo add-apt-repository ppa:longsleep/golang-backports
find /etc/apt/sources.list.d/ -type f -iname '*.list' -exec sudo sed -i.bak -r 's/ppa.launchpad.net/launchpad.proxy.ustclug.org/' {} \;

sudo apt update
sudo apt install golang-1.18 golang-go
</code></pre>
<h3 id="vagrant">Vagrant</h3>
<p>没有简单的办法。一些周知的镜像，可以通过这些地方加速：</p>
<ul>
<li>对于 Ubuntu 之类，可以取清华镜像</li>
</ul>
<p>```bash
  vagrant box add ubuntu/trusty64 https://mirrors.tuna.tsinghua.edu.cn/ubuntu-cloud-images/vagrant/trusty/current/trusty-server-cloudimg-amd64-vagrant-disk1.box</p>
<p>vagrant box add ubuntu/bionic64 https://mirrors.tuna.tsinghua.edu.cn/ubuntu-cloud-images/bionic/20191002/bionic-server-cloudimg-amd64-vagrant.box
  ```</p>
<ul>
<li>清华找不到几个周知镜像，所以基本上还是要在 http://www.vagrantbox.es/ 寻找和添加</li>
</ul>
<p><code>bash
  vagrant box add debian/8.1 https://github.com/kraksoft/vagrant-box-debian/releases/download/8.1.0/debian-8.1.0-amd64.box</code></p>
<ul>
<li>总的来说，没有什么有效的镜像，只能想各种办法去手工下载box，然后再导入。</li>
</ul>
<h2 id="_16">附录</h2>
<h3 id="_17">附录一</h3>
<h4 id="xtomhelp">关于 xtom.help</h4>
<blockquote>
<p>以下内容过时，请参阅附录二</p>
<p><a href="https://github.com/mirrorz-org">mirrorz</a> 致力于提供 Linux 发行版的镜像源方面的工作，它们提供很好的相关文档以及 CDN 服务以便加速相应镜像源的访问、拉取行为。</p>
<p>所以我在 mirror-list 中列出的和镜像加速相关的内容，很多在 mirrorz 的对应网站 <a href="https://xtom.help/">xtom.help</a> 都能找到以 mirrorz 身份提供的解决方案。它们的问题在于 mirrorz 也会受到干扰，所以采用 mirrorz 提供的 CDN 是由你自己来决定的。</p>
</blockquote>
<p>但在此基础上，cernet 对 mirrorz 提供了镜像。</p>
<p>所以你也可以访问 <a href="https://mirrors.cernet.edu.cn/list">mirrors.cernet.edu.cn/list</a> 来得到一组更大陆的镜像源，不同于 mirrorz 直接原生地提供 CDN 但却常受到干扰，cernet 给出的大陆镜像源基本上都是我们所熟知的那些教育网镜像站，在 <a href="https://help.mirrors.cernet.edu.cn/">help.mirrors.cernet.edu.cn</a> 上它们被整合到一处了而已。所以好处是你不一定需要去清华、中科大、CQU 等大学的开源软件镜像站具体检索，直接在 <a href="https://help.mirrors.cernet.edu.cn/">help.mirrors.cernet.edu.cn</a> 就能取用。</p>
<p>按照 mirrorz 的说法，cernet 的这个 list 其实也是用 mirrorz 的 <a href="https://github.com/mirrorz-org/mirrorz">react nodejs webapp</a> 搭建的。</p>
<h3 id="_18">附录二</h3>
<h4 id="mirrorz">关于 mirrorz</h4>
<p>mirrorz 公益站现在是一个聚集站点，它搜集或登记（你可以登记自己的镜像）了著名的中国大陆开源镜像站点，大部分都是国内大学所建立的。</p>
<p>尽管很多大学的镜像站点有着各式各样的错误、疏漏，但是尽量多的大学踊跃建立镜像是好事，且互相之间存在少量的查漏补缺那就更好。</p>
<p>mirrorz org: <a href="https://github.com/mirrorz-org">https://github.com/mirrorz-org</a></p>
<p>mirrorz webapp repo: <a href="https://github.com/mirrorz-org/mirrorz">https://github.com/mirrorz-org/mirrorz</a></p>
<p>mirrorz site: <a href="https://mirrorz.org/">https://mirrorz.org/</a> （help：<a href="https://help.mirrorz.org/">https://help.mirrorz.org/</a>）</p>
<p>看了一下现在的内容，居然没有 mirrors.cqu.edu.cn。</p>
<h2 id="conclusion">Conclusion</h2>
<p>LICENSE: CC4-BY-NC-SA + MIT</p>
<p><a href="https://github.com/hedzr/mirror-list">https://github.com/hedzr/mirror-list</a></p>







  
  


  <aside class="md-source-file">
    
    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="贡献者">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:hedzrz@gmail.com">hz</a>
    </nav>
  </span>

    
    
  </aside>


  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2016 - 2024 hedzr – <a href="#__consent">Change cookie settings</a>

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/hedzr/mirror-list" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  



  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">同意</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">管理设定</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.indexes", "header.autohide", "navigation.footer", "content.action.edit"], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="assets/javascripts/bundle.525ec568.min.js"></script>
      
    
  </body>
</html>